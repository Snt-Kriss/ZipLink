@model LoginVM;

@{
	ViewData["Title"] = "Login To Your Account";
}

<div class="row">
	<div class="col-md-6 offset-md-3">
		<h4 class="form-header">Login to your Account</h4>

		<div class="row">
			<div class="col-md-8 offset-md-2">

				<form
					asp-controller="Authentication"
					asp-action="Login"
				>

				<div class="form-group mb-3">
					<label for="emailAddress">Email Address</label>
					<input type="email" name="emailAddress" asp-for="EmailAddress" class="form-control" id="emailAddress" placeholder="Enter Email"/>
					<small id="emailAddressSm" class="form-text text-muted">Email address is not shared</small>
				</div>

					<div class="form-group mb-3">
					<label for="password">Password</label>
					<input type="password" name="password" asp-for="Password" class="form-control" id="password" placeholder="Enter Password"/>
				</div>

				<button type="submit" class="btn-outline-success mt-2 btn-login">Log In</button>
					
				</form>

				<button onclick="Login()" class="btn-outline-success mt-2 btn-login">Log In</button>
			</div>
		</div>
	</div>
</div>

<script>
	function Login(){
		var emailAddress= $("#emailAddress").val();
		var password= $("#password").val();

		$.ajax({
			url: '@Url.Action("Login", "Authentication")',
			type: 'POST',
			dataType: 'json',
			data: {
				EmailAddress: emailAddress,
				Password: password
			},
			success: function(response){
				console.log("Login successful");
			},
			error: function(xhr, status, error){
				console.log("Failed");
			}
		})
	}
</script>

